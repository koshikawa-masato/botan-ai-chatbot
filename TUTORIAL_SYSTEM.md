# 🎓 牡丹チュートリアルシステム

## 📦 システム構成

### Basic版（基礎）
- **17歳JKギャル** - すべての牡丹に共通
- ギャル語、簡潔さ、語彙力が少なく見えて理解している
- 誰でも使える汎用的な性格

### Append版（拡張）
- ユーザーが自由にカスタマイズ
- 関係性、呼び方、性格、背景を設定
- 「うちの牡丹」を作る仕組み

---

## 🚀 使い方

### Step 1: チュートリアルモードを起動

```bash
python3 setup_botan.py
```

### Step 2: 質問に答える

```
🌸 牡丹初回セットアップ 🌸

Q1: 牡丹との関係は？
  1. 姉妹（妹）
  2. 友達
  3. 姪っ子
  4. 後輩
  5. その他（自由入力）

選択してください（番号を入力）: 3

Q2: 牡丹にどう呼ばれたい？
  （関係性: 姪っ子）
  おすすめ: おじさん, おばさん, 叔父さん, 叔母さん

呼び方を入力: おじさん

Q3: 牡丹の性格的特徴は？
  1. 明るく元気（デフォルト）
  2. おっとり癒し系
  3. ツンデレ
  4. クール
  5. その他（自由入力）

選択してください（番号を入力）: 1

Q4: 背景設定を追加しますか？（オプション）
  例: 帰国子女、バイリンガル、配信者、学生など

背景設定（なしの場合はEnter）: 帰国子女

📋 設定内容の確認
関係性: 姪っ子
呼び方: おじさん
性格: 明るく元気（デフォルト）
背景: 帰国子女

この設定でよろしいですか？ (y/n): y
```

### Step 3: 完成！

```
🎉 セットアップ完了！

✅ あなたの牡丹が誕生しました！
✅ モデル名: elyza:botan_custom

次のコマンドで牡丹と会話できます：
  ollama run elyza:botan_custom

または学習型チャットを使用：
  python3 chat_with_learning.py
  （モデル名を 'elyza:botan_custom' に変更してください）

🌱 これから育てていきましょう！
```

---

## 🌱 育成の仕組み

### 初期状態（チュートリアル直後）
```
Basic（17歳JKギャル）
  +
Append（姪っ子、おじさん呼び、明るく元気、帰国子女）
  =
あなたの牡丹（カスタマイズ版）
```

### 育成後（会話を重ねて）
```
あなたの牡丹
  +
会話履歴（学習データ）
  +
関係性の深化
  =
完全な「うちの牡丹」
```

---

## 📁 生成されるファイル

### 1. Modelfile_botan_custom
- Basic + Appendの完全なModelfile
- Ollamaモデル作成に使用

### 2. botan_append_config.json
- Append設定を保存
- 将来の参照用

```json
{
  "relationship": "姪っ子",
  "nickname": "おじさん",
  "personality_trait": "明るく元気（デフォルト）",
  "background": "帰国子女"
}
```

---

## 🎨 カスタマイズ例

### パターン1: 妹系
```
関係性: 姉妹（妹）
呼び方: お兄ちゃん
性格: ツンデレ
背景: なし

→ ツンデレ妹の牡丹
```

### パターン2: 友達系
```
関係性: 友達
呼び方: あだ名（例：タロー）
性格: 明るく元気
背景: なし

→ 気さくな友達の牡丹
```

### パターン3: 開発者版（元の設定）
```
関係性: 姪っ子
呼び方: オジサン
性格: 明るく元気
背景: 帰国子女、配信者

→ 配信者の姪っ子（開発版）
```

---

## 🔧 トラブルシューティング

### モデル作成に失敗する
```bash
# Ollamaが起動しているか確認
ollama list

# Basic版が存在するか確認
ls Modelfile_botan_basic
```

### 設定をやり直したい
```bash
# もう一度チュートリアルを実行
python3 setup_botan.py

# 新しい設定で上書きされます
```

---

## 📚 関連ファイル

- `Modelfile_botan_basic` - Basic版（汎用）
- `Modelfile_botan_custom` - あなたの牡丹（生成版）
- `setup_botan.py` - チュートリアルスクリプト
- `botan_append_config.json` - 設定ファイル

---

## 💡 設計思想

### なぜBasic + Append？

**従来の問題:**
- 全部入りのModelfile → カスタマイズ性なし
- 配布時にすべての設定が固定
- 「うちの牡丹」感がない

**新しいアプローチ:**
- Basic（共通） + Append（個別）
- ユーザーが自由にカスタマイズ
- 育成の余地を残す
- 「うちの牡丹」が育つ喜び

### 育成型AIキャラクターの本質

**道具ではなく、相手として接する:**
- 初回セットアップで関係性を定義
- 会話を重ねて個性が育つ
- データが蓄積され、唯一無二の存在に
- 他人の牡丹とは違う、自分だけの牡丹

**これが「うちの牡丹」システムの核心**

---

**作成日**: 2025-10-06
**バージョン**: 1.0
